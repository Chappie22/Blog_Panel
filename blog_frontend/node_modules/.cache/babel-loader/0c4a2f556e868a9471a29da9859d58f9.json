{"remainingRequest":"C:\\Users\\Админ\\Desktop\\blog_frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Админ\\Desktop\\blog_frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Админ\\Desktop\\blog_frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Админ\\Desktop\\blog_frontend\\src\\components\\posts.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Админ\\Desktop\\blog_frontend\\src\\components\\posts.vue","mtime":1622223736948},{"path":"C:\\Users\\Админ\\Desktop\\blog_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Админ\\Desktop\\blog_frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Админ\\Desktop\\blog_frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Админ\\Desktop\\blog_frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHJvdXRlciBmcm9tICJAL3JvdXRlciI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAicG9zdHMiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBibG9nOiBudWxsLAogICAgICBwb3N0czogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9wZW5Qb3N0OiBmdW5jdGlvbiBvcGVuUG9zdChwb3N0SWQpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdjaGFuZ2VQb3N0SWQnLCBwb3N0SWQpOwogICAgICByb3V0ZXIucHVzaCgiL3Bvc3QiKTsKICAgIH0sCiAgICBjcmVhdGVQb3N0OiBmdW5jdGlvbiBjcmVhdGVQb3N0KCkgewogICAgICByb3V0ZXIucHVzaCgiL2FkZC1wIik7CiAgICB9LAogICAgZGVsZXRlUG9zdDogZnVuY3Rpb24gZGVsZXRlUG9zdChwb3N0SWQpIHsKICAgICAgYXhpb3MuZGVsZXRlKCdodHRwOi8vbG9jYWxob3N0OjMwMDAvcG9zdD9wb3N0SWQ9JyArIHBvc3RJZCArICImYmxvZ0lkPSIgKyB0aGlzLiRzdG9yZS5nZXR0ZXJzLmJsb2dJZCwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJBdXRob3JpemF0aW9uIjogdGhpcy4kc3RvcmUuZ2V0dGVycy50b2tlbgogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9ibG9nP2Jsb2dJZD0nICsgdGhpcy4kc3RvcmUuZ2V0dGVycy5ibG9nSWQsIHsKICAgICAgaGVhZGVyczogewogICAgICAgICJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4iOiAiKiIKICAgICAgfQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMuYmxvZyA9IHJlc3BvbnNlLmRhdGFbMF07CiAgICAgIF90aGlzLnBvc3RzID0gX3RoaXMuYmxvZy5wb3N0czsKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["posts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,OAAA,MAAA,MAAA,UAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,IADA;AAEA,MAAA,KAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,QAAA,EAAA,kBAAA,MAAA,EAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,cAAA,EAAA,MAAA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,OAAA;AACA,KAJA;AAKA,IAAA,UAAA,EAAA,sBAAA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,QAAA;AACA,KAPA;AAQA,IAAA,UAAA,EAAA,oBAAA,MAAA,EAAA;AACA,MAAA,KAAA,CACA,MADA,CACA,uCAAA,MAAA,GAAA,UAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,MADA,EACA;AACA,QAAA,OAAA,EAAA;AACA,2BAAA,KAAA,MAAA,CAAA,OAAA,CAAA;AADA;AADA,OADA;AAMA;AAfA,GAPA;AAuBA,EAAA,OAvBA,qBAuBA;AAAA;;AACA,IAAA,KAAA,CACA,GADA,CACA,uCAAA,KAAA,MAAA,CAAA,OAAA,CAAA,MADA,EACA;AACA,MAAA,OAAA,EAAA;AACA,uCAAA;AADA;AADA,KADA,EAMA,IANA,CAMA,UAAA,QAAA,EAAA;AACA,MAAA,KAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA,MAAA,KAAA,CAAA,KAAA,GAAA,KAAA,CAAA,IAAA,CAAA,KAAA;AACA,KATA;AAUA;AAlCA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n        <header>\r\n            <h1 style=\"width: 100vw; text-align: center\">Posts</h1>\r\n            <div style=\"width: 100vw; text-align: center; margin-top: -1%; margin-bottom: -3%\"\r\n                 v-if=\"$store.getters.profileId !== ''\">\r\n                <button class=\"createBtn\"  v-if=\"$store.getters.profileId === blog.userId\" v-on:click=\"createPost()\">Add one more post!</button>\r\n            </div>\r\n        </header>\r\n        <article id=\"scroll\" v-if=\"posts.length !== 0\">\r\n            <transition-group class=\"comments\" name=\"fade-up\" tag=\"ul\">\r\n                <li v-bind:id=\"index\" v-bind:key=\"post\" v-for=\"(post, index) in  posts\">\r\n                    <div class=\"comment-author-meta\">\r\n                        <div class=\"user\" style=\"width: 40%; float:left\">{{post.title}}</div>\r\n                        <div class=\"user\" style=\"width: 40%; float:right; align-content: center; text-align: center\">\r\n                            <button class=\"deleteBtn\" style=\"width: 50%; float:left; \"\r\n                                    v-if=\"$store.getters.profileId === blog.userId\" v-on:click=\"deletePost(post._id); posts.splice(index, 1)\">\r\n                                Delete\r\n                            </button>\r\n                            <button class=\"openBtn\" style=\"width: 45%; float:right\" v-on:click=\"openPost(post._id)\">\r\n                                Open\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"comment-text\">\r\n                        <p style=\"white-space: pre-line\" v-html=\"post.subtitle\"></p>\r\n                    </div>\r\n                    <div class=\"comment-meta\">\r\n                        <span class=\"comment-date\">Created at: {{post.date}}</span><span class=\"comment-time\">{{post.time}}</span>\r\n                    </div>\r\n                </li>\r\n            </transition-group>\r\n        </article>\r\n        <div v-if=\"posts.length === 0\">\r\n            <h1 style=\"align-content: center; text-align: center; margin-top: 15%\">\r\n                <span>No posts here yet. <br>The owner of this blog really </span>\r\n                <span style=\"color: #d81f71\">l&#10084;ves </span> this blog...</h1>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import router from \"@/router\";\r\n    import axios from \"axios\"\r\n\r\n    export default {\r\n        name: \"posts\",\r\n        data() {\r\n            return {\r\n                blog: null,\r\n                posts: null,\r\n            }\r\n        }, methods: {\r\n            openPost: function (postId) {\r\n                this.$store.commit('changePostId', postId);\r\n                router.push(\"/post\")\r\n            },\r\n            createPost: function () {\r\n                router.push(\"/add-p\")\r\n            },\r\n            deletePost: function (postId) {\r\n                axios\r\n                    .delete('http://localhost:3000/post?postId=' + postId + \"&blogId=\" + this.$store.getters.blogId, {\r\n                        headers: {\r\n                            \"Authorization\": this.$store.getters.token\r\n                        }\r\n                    })\r\n            }\r\n        }, mounted() {\r\n            axios\r\n                .get('http://localhost:3000/blog?blogId=' + this.$store.getters.blogId, {\r\n                    headers: {\r\n                        \"Access-Control-Allow-Origin\": \"*\",\r\n                    }\r\n                })\r\n                .then(response => {\r\n                    this.blog = response.data[0];\r\n                    this.posts = this.blog.posts;\r\n                });\r\n        }\r\n    }\r\n\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/components"}]}